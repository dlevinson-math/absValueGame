<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V-Quest ¬∑ Absolute Value Transformations</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <!--  TITLE SCREEN                                  -->
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="title-screen" class="screen active">
        <div class="title-bg-grid"></div>
        <div class="title-content">
            <div class="title-badge">ALGEBRA 1</div>
            <h1 class="title-heading">
                <span class="title-v">V</span><span class="title-dash">‚Äî</span><span class="title-quest">Quest</span>
            </h1>
            <p class="title-subtitle">Master absolute value transformations<br>one level at a time.</p>
            <div class="title-equation">y = a|x ‚àí h| + k</div>
            <div class="title-buttons">
                <button id="btn-new-game" class="btn btn-primary" onclick="Game.startNew()">New Game</button>
                <button id="btn-continue" class="btn btn-secondary" onclick="Game.continueGame()" style="display:none;">Continue</button>
            </div>
            <div class="title-how">
                <button class="btn-link" onclick="Game.showHow()">How to Play ‚Üì</button>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <!--  HOW TO PLAY SCREEN                            -->
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="how-screen" class="screen">
        <div class="how-content">
            <button class="btn-back" onclick="Game.showTitle()">‚Üê Back</button>
            <h2>How to Play</h2>
            <div class="how-grid">
                <div class="how-card">
                    <div class="how-icon">üéØ</div>
                    <h3>Mission</h3>
                    <p>Each level gives you a mission: land the vertex on a target point and adjust the slope so the V-shape passes through a second point.</p>
                </div>
                <div class="how-card">
                    <div class="how-icon">‚úèÔ∏è</div>
                    <h3>Edit Values</h3>
                    <p>Click <strong>a</strong>, <strong>h</strong>, or <strong>k</strong> in the equation to type a whole number value.</p>
                </div>
                <div class="how-card">
                    <div class="how-icon">üõ∏</div>
                    <h3>Launch!</h3>
                    <p>Click <strong>Try Solution</strong> to send the flying saucer to your vertex. Watch it fire its lasers!</p>
                </div>
                <div class="how-card">
                    <div class="how-icon">‚≠ê</div>
                    <h3>Scoring</h3>
                    <p>You get <strong>2 tries</strong> per level. Solve on the 1st try for 2 stars!</p>
                </div>
            </div>
            <div class="how-types">
                <h3>How It Works</h3>
                <div class="how-type">
                    <span class="how-type-badge type-vh">Vertex &amp; Slope</span>
                    <p>Set <strong>h</strong> and <strong>k</strong> to position the vertex, then adjust <strong>a</strong> to control the steepness. The saucer's lasers must pass through both the vertex and the target point!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <!--  GAME SCREEN                                   -->
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="game-screen" class="screen">
        <!-- Top bar: header + mission -->
        <header class="game-header">
            <div class="header-left">
                <button class="btn-icon" onclick="Game.showTitle()" title="Menu">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M3 5h14M3 10h14M3 15h14" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg>
                </button>
                <div class="level-info">
                    <span class="level-badge type-vh" id="level-type-badge">Mission</span>
                    <span class="level-number" id="level-number">Level 1</span>
                </div>
            </div>
            <div class="header-right">
                <div class="stat-chip">
                    <span class="stat-label">Score</span>
                    <span class="stat-value" id="score-display">0</span>
                </div>
                <div class="stat-chip">
                    <span class="stat-label">Tries</span>
                    <span class="stat-value" id="attempts-display">2</span>
                </div>
            </div>
        </header>

        <!-- Mission Banner -->
        <div class="mission-bar" id="mission-bar">
            <span class="mission-icon">üõ∏</span>
            <span class="mission-text" id="mission-text">Land vertex on (2, 3) and adjust slope to hit a point 2 units up and 1 unit right</span>
        </div>

        <!-- Canvas (coordinate plane) -->
        <div class="canvas-wrapper" id="canvas-wrapper">
            <canvas id="graph-canvas"></canvas>
        </div>

        <!-- Input Modal (inline popup) -->
        <div class="input-modal" id="input-modal" style="display:none;">
            <div class="input-modal-inner">
                <label class="input-label" id="input-label">Set value for h:</label>
                <input type="number" id="input-field" class="input-number" step="1" autocomplete="off">
                <div class="input-actions">
                    <button class="btn btn-sm btn-cancel" onclick="Game.cancelInput()">Cancel</button>
                    <button class="btn btn-sm btn-confirm" onclick="Game.confirmInput()">Set</button>
                </div>
            </div>
        </div>

        <!-- Feedback Toast -->
        <div class="feedback-toast" id="feedback-toast" style="display:none;">
            <span class="feedback-icon" id="feedback-icon"></span>
            <span class="feedback-msg" id="feedback-msg"></span>
        </div>

        <!-- Equation Bar (BOTTOM) -->
        <div class="equation-bar">
            <div class="equation-container">
                <span class="eq-text">y = </span>
                <span class="eq-variable" id="eq-a" tabindex="0" role="button" aria-label="Edit a value">a</span>
                <span class="eq-text">|x ‚àí </span>
                <span class="eq-variable" id="eq-h" tabindex="0" role="button" aria-label="Edit h value">h</span>
                <span class="eq-text">| + </span>
                <span class="eq-variable" id="eq-k" tabindex="0" role="button" aria-label="Edit k value">k</span>
            </div>
            <button class="btn btn-try" id="btn-try" onclick="Game.trySolution()">Try Solution üõ∏</button>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <!--  LEVEL COMPLETE OVERLAY                        -->
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="level-complete" class="overlay" style="display:none;">
        <div class="overlay-card">
            <div class="stars-row" id="stars-row">
                <span class="star">‚òÖ</span><span class="star">‚òÖ</span>
            </div>
            <h2 id="complete-title">Mission Success!</h2>
            <p id="complete-msg" class="success-msg">All of Glaxonia Prime 3 salutes you.</p>
            <div class="complete-stats">
                <div><span class="cs-label">Points Earned</span><span class="cs-value" id="complete-points">+100</span></div>
                <div><span class="cs-label">Attempts Used</span><span class="cs-value" id="complete-attempts">1/2</span></div>
            </div>
            <button class="btn btn-primary" onclick="Game.nextLevel()">Next Level ‚Üí</button>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <!--  LEVEL FAILED OVERLAY                          -->
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="level-failed" class="overlay" style="display:none;">
        <div class="overlay-card overlay-fail">
            <h2>Mission Failure</h2>
            <p id="fail-msg" class="fail-msg">Glaxonon police put you in Xinothropic Galactic Jail for 2 parsecs.</p>
            <p id="fail-answer" class="fail-answer"></p>
            <button class="btn btn-primary" onclick="Game.nextLevel()">Next Level ‚Üí</button>
            <button class="btn btn-secondary" onclick="Game.retryLevel()">Retry Level</button>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
